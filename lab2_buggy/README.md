# Лабораторная работа №2
**Тема: Мини-оболочка с файловыми командами**

## Теоретическая часть

### Управление файловой системой в Python
В данной работе рассматриваются принципы работы с файловой системой, создание интерфейса командной строки (CLI) и основы системного программирования на Python. Реализуется аналог стандартной оболочки (shell) с набором основных команд для управления файлами и каталогами.

### Ключевые концепции:
1. **Файловая система** — абстракция для хранения, организации и доступа к данным. Работа с путями (абсолютными и относительными), правами доступа, метаданными.
2. **Интерфейс командной строки** — текстовый интерфейс для взаимодействия пользователя с операционной системой через команды.
3. **Логирование** — процесс записи событий и действий в журнал для последующего анализа и отладки.
4. **Плагинная архитектура** — подход к проектированию, позволяющий расширять функциональность программы без изменения основного кода.

### Основные команды оболочки:
- `ls` — просмотр содержимого каталога
- `cd` — смена текущего рабочего каталога
- `cat` — просмотр содержимого файла
- `cp` — копирование файлов и каталогов
- `mv` — перемещение и переименование файлов
- `rm` — удаление файлов и каталогов

* **Цель:** Создать мини-оболочку на Python с базовыми файловыми командами, системой логирования и возможностью расширения через плагины.
* **Библиотеки:** `os`, `os.path`, `pathlib`, `shutil`, `logging`, `zipfile`, `tarfile`, `re`
* **Допущения:**
  - Запрещено использовать внешние оболочки или запуск системных команд через `subprocess`
  - Все операции должны выполняться средствами Python API
  - Обязательная поддержка относительных и абсолютных путей
  - Все команды и ошибки должны фиксироваться в файле `shell.log`
  - Для плагинов: архивация/распаковка должна сохранять структуру каталогов
  - Поиск по содержимому должен поддерживать регулярные выражения
  - Система `undo` должна хранить состояние для восстановления операций

* **Хронология взаимодействия пользователя и программы**
    - Пользователь запускает программу
    - Вводит команду с аргументами и опциями
    - Программа парсит ввод, выполняет соответствующую операцию
    - При успехе: выводит результат операции в консоль
    - При ошибке: выводит понятное сообщение об ошибке
    - Все действия записываются в лог-файл с временными метками
    - Для команд с подтверждением (удаление) запрашивается подтверждение
    - Для выхода используется команда `exit()`

* **Начало работы**
```bash
git clone https://github.com/Dinar2806/lab_python_2.git
cd lab_python_2
pip install -r requirements.txt
```

- Запуск
    - Для запуска необходимо перейти в файл ./src/consts.py.example, переименовать в consts.py и указать пути для:
        - HOME_CATALOG: str (это стартовая директория, программа будет считать ее корнем файловой системы, например, если в этой переменной указать /home/user/lab2, то программа будет считать lab2 главным каталогом, следовательно, перейти в /home/user будет невозможно)
        - LOG_FILE: str (файл для записи логов)
        - HISTORY_FILE: str (файл для записи истории)
```bash
python -m src.main
```



